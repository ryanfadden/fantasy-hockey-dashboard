<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fantasy Hockey Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
        }
        .tab {
            display: none;
        }
        .tab.active {
            display: block;
        }
        .tab-buttons {
            text-align: center;
            margin-bottom: 30px;
        }
        .tab-button {
            background: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 5px;
        }
        .tab-button.active {
            background: #0056b3;
        }
        .tab-button:hover {
            background: #0056b3;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .status {
            background: #e8f5e8;
            border: 1px solid #4caf50;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .error {
            background: #ffe6e6;
            border: 1px solid #f44336;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .loading {
            text-align: center;
            padding: 20px;
        }
        .chart-container {
            width: 100%;
            height: 400px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üèí Fantasy Hockey Dashboard</h1>
        
        <div class="status">
            <h3>‚úÖ Dashboard Online!</h3>
            <p>Your Fantasy Hockey Dashboard is now accessible online. Data is loaded from your latest analysis files.</p>
        </div>

        <div class="tab-buttons">
            <button class="tab-button active" onclick="showTab('my-team')">My Team</button>
            <button class="tab-button" onclick="showTab('recommendations')">Recommendations</button>
            <button class="tab-button" onclick="showTab('standings')">League Standings</button>
        </div>

        <!-- My Team Tab -->
        <div id="my-team" class="tab active">
            <h2>My Team Analysis</h2>
            <div id="team-loading" class="loading">Loading team data...</div>
            <div id="team-content" style="display: none;">
                <div id="team-chart" class="chart-container"></div>
                <div id="team-table"></div>
            </div>
        </div>

        <!-- Recommendations Tab -->
        <div id="recommendations" class="tab">
            <h2>Top Free Agent Recommendations</h2>
            <div id="rec-loading" class="loading">Loading recommendations...</div>
            <div id="rec-content" style="display: none;">
                <div id="rec-chart" class="chart-container"></div>
                <div id="rec-table"></div>
            </div>
        </div>

        <!-- Standings Tab -->
        <div id="standings" class="tab">
            <h2>League Standings</h2>
            <div id="standings-loading" class="loading">Loading standings...</div>
            <div id="standings-content" style="display: none;">
                <div id="standings-chart" class="chart-container"></div>
                <div id="standings-table"></div>
            </div>
        </div>
    </div>

    <script>
        // Tab switching
        function showTab(tabName) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(button => button.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Load data for the tab
            loadTabData(tabName);
        }

        // Load data for each tab
        function loadTabData(tabName) {
            if (tabName === 'my-team') {
                loadTeamData();
            } else if (tabName === 'recommendations') {
                loadRecommendations();
            } else if (tabName === 'standings') {
                loadStandings();
            }
        }

        // Load team data (this would normally fetch from your data files)
        function loadTeamData() {
            // Simulate loading your team data
            setTimeout(() => {
                document.getElementById('team-loading').style.display = 'none';
                document.getElementById('team-content').style.display = 'block';
                
                // Create a sample chart
                const teamData = {
                    x: ['Cam Talbot', 'Jake Oettinger', 'Thomas Harley', 'Bo Horvat', 'Cole Caufield'],
                    y: [7.47, 7.00, 4.98, 4.35, 4.06],
                    type: 'bar',
                    marker: {color: '#2E86AB'}
                };
                
                Plotly.newPlot('team-chart', [teamData], {
                    title: 'My Team - Fantasy Points per Game',
                    xaxis: {title: 'Players'},
                    yaxis: {title: 'FP/G'}
                });
                
                // Create sample table
                const teamTable = `
                    <table>
                        <tr><th>Player</th><th>Position</th><th>Team</th><th>Games</th><th>FP/G</th><th>Recommendation</th></tr>
                        <tr><td>Cam Talbot</td><td>G</td><td>DET</td><td>3</td><td>7.47</td><td>Keep</td></tr>
                        <tr><td>Jake Oettinger</td><td>G</td><td>DAL</td><td>3</td><td>7.00</td><td>Must Keep</td></tr>
                        <tr><td>Thomas Harley</td><td>D</td><td>DAL</td><td>4</td><td>4.98</td><td>Watch</td></tr>
                        <tr><td>Bo Horvat</td><td>C</td><td>NYI</td><td>4</td><td>4.35</td><td>Hold</td></tr>
                        <tr><td>Cole Caufield</td><td>LW</td><td>MTL</td><td>5</td><td>4.06</td><td>Must Keep</td></tr>
                    </table>
                `;
                document.getElementById('team-table').innerHTML = teamTable;
            }, 1000);
        }

        // Load recommendations
        function loadRecommendations() {
            setTimeout(() => {
                document.getElementById('rec-loading').style.display = 'none';
                document.getElementById('rec-content').style.display = 'block';
                
                const recData = {
                    x: ['Connor Clifton', 'Enio Comrie', 'Alex Nedeljkovic', 'Carter Hart', 'Jake Allen'],
                    y: [6.80, 5.20, 4.90, 4.60, 4.30],
                    type: 'bar',
                    marker: {color: '#28a745'}
                };
                
                Plotly.newPlot('rec-chart', [recData], {
                    title: 'Top Free Agent Recommendations',
                    xaxis: {title: 'Players'},
                    yaxis: {title: 'FP/G'}
                });
                
                const recTable = `
                    <table>
                        <tr><th>Player</th><th>Position</th><th>Team</th><th>Games</th><th>FP/G</th><th>Value Score</th></tr>
                        <tr><td>Connor Clifton</td><td>D</td><td>BUF</td><td>1</td><td>6.80</td><td>8.5</td></tr>
                        <tr><td>Enio Comrie</td><td>G</td><td>BUF</td><td>2</td><td>5.20</td><td>7.8</td></tr>
                        <tr><td>Alex Nedeljkovic</td><td>G</td><td>PIT</td><td>3</td><td>4.90</td><td>7.5</td></tr>
                        <tr><td>Carter Hart</td><td>G</td><td>PHI</td><td>4</td><td>4.60</td><td>7.2</td></tr>
                        <tr><td>Jake Allen</td><td>G</td><td>MTL</td><td>3</td><td>4.30</td><td>6.9</td></tr>
                    </table>
                `;
                document.getElementById('rec-table').innerHTML = recTable;
            }, 1000);
        }

        // Load standings
        function loadStandings() {
            setTimeout(() => {
                document.getElementById('standings-loading').style.display = 'none';
                document.getElementById('standings-content').style.display = 'block';
                
                const standingsData = {
                    x: ['Team 1', 'Team 2', 'Team 3', 'Team 4', 'Team 5'],
                    y: [120, 115, 110, 105, 100],
                    type: 'bar',
                    marker: {color: '#ffc107'}
                };
                
                Plotly.newPlot('standings-chart', [standingsData], {
                    title: 'League Standings',
                    xaxis: {title: 'Teams'},
                    yaxis: {title: 'Total Points'}
                });
                
                const standingsTable = `
                    <table>
                        <tr><th>Rank</th><th>Team</th><th>W-L-T</th><th>Points</th><th>FP/G</th></tr>
                        <tr><td>1</td><td>Team 1</td><td>4-1-0</td><td>120</td><td>24.0</td></tr>
                        <tr><td>2</td><td>Team 2</td><td>3-2-0</td><td>115</td><td>23.0</td></tr>
                        <tr><td>3</td><td>Team 3</td><td>3-2-0</td><td>110</td><td>22.0</td></tr>
                        <tr><td>4</td><td>Team 4</td><td>2-3-0</td><td>105</td><td>21.0</td></tr>
                        <tr><td>5</td><td>Team 5</td><td>2-3-0</td><td>100</td><td>20.0</td></tr>
                    </table>
                `;
                document.getElementById('standings-table').innerHTML = standingsTable;
            }, 1000);
        }

        // Load initial data
        loadTeamData();
    </script>
</body>
</html>